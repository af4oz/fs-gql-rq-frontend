import{u as l,j as e,a,b as c}from"./index.0ac003db.js";import{b as m,r as d}from"./vendor.a7dbbac3.js";const u=()=>{const[o,i]=d.exports.useState(!1),{data:r,error:s,isLoading:t}=a(void 0,{enabled:o,onError:n=>{console.error(n)}});return c("div",{className:"flex flex-col items-center",children:[e("h2",{className:"m-1 text-2xl font-extrabold",children:"Welcome to Demo!"}),e("button",{onClick:()=>{o||i(!0)},className:"teal-btn",children:"Load users"}),t&&e("div",{children:"Loading..."}),s&&e("div",{children:s.message}),!t&&!s&&e("ul",{className:"mt-8",children:r==null?void 0:r.allUsers.map(n=>e("li",{children:e("pre",{children:JSON.stringify(n)})},n.id))})]})},x=()=>{var r;const o=m(),{data:i}=l(void 0,{onSuccess:s=>{(s==null?void 0:s.whoami)||o("/sign-in")},staleTime:30*1e3,onError:()=>{o("/sign-in")}});return e("section",{children:((r=i==null?void 0:i.whoami)==null?void 0:r.name)&&e(u,{})})};export{x as default};
